# LimitRanges set (per namespace the default resources a container in the namespace will request if it does not have it's own limits and requests set)
# For resource quotas to not stop your container, a container MUST have limits set. LimitRanges helps us ensuring just that.

---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: prod
spec:
  limits:
  - default:
      cpu: 200m # This limit is used Unless a container explicitly has set it's limits.
    defaultRequest:
      cpu: 50m # If this is not set, containers without explicit limits will request the limit set in this file.
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: infrastructure
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: monitoring
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: aware
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: cert-manager
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: external-dns
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: flux
spec:
  limits:
  - default:
      cpu: 500m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: flux
metadata:
  name: cpu-limit-range
  namespace: prod
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: loki
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: sealed-secrets
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: sensu
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
  namespace: velero
spec:
  limits:
  - default:
      cpu: 200m
    defaultRequest:
      cpu: 50m
    type: Container