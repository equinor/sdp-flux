---
apiVersion: apps/v1beta1
kind: Deployment
metadata:
  labels:
    app: hgir
    tier: frontend
  name: hgir
  namespace: prod
  annotations:
    flux.weave.works/automated: 'true'
    flux.weave.works/tag.hgir: semver:~1.0
spec:
  replicas: 2
  template: 
    metadata:
      labels:
        app: hgir
        tier: frontend
    spec:
      volumes:
      - name: sqlite-rooktest
        flexVolume:
          driver: ceph.rook.io/rook
          fsType: ceph
          options:
            fsName: myfs # name of the filesystem specified in the filesystem CRD.
            clusterNamespace: rook-ceph # namespace where the Rook cluster is deployed
            # by default the path is /, but you can override and mount a specific path of the filesystem by using the path attribute
            # the path must exist on the filesystem, otherwise mounting the filesystem at that path will fail
            # path: /some/path/inside/cephfs